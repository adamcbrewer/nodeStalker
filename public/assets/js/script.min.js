(function(e,t){e=e||{};Modernizr.load({load:[e.siteUrl+"/assets/js/libs/jq-1.8.2.min.js",e.siteUrl+"/assets/js/libs/moment-1.7.2.js"],complete:function(){var t=$("#terminals"),n=$(".terminal");t.on("click",".terminal",function(e){e.preventDefault();n.not(this).removeClass("active");this.classList.add("active")});$(window).on("keyup",function(e){e.keyCode===27&&n.removeClass("active")});e.socket.on("broadcast",function(t){t.results&&t.results.osData&&e.updateTerminals(t.results.osData)});e.updateTerminals=function(e){console.log(e);var t;if(e.uptime){t=$('[data-os="uptime"]');var n=moment.duration(e.uptime*1e3).humanize(),r=e.uptime+" seconds";t.find('[data-output="main"]').html(n);t.find('[data-output="raw"]').html(r)}if(e.freemem){t=$('[data-os="freemem"]');var i=Math.round(e.freemem/1024/1024)+" MB",s=e.freemem+" bytes";t.find('[data-output="main"]').html(i);t.find('[data-output="raw"]').html(s)}if(e.loadavg){t=$('[data-os="loadavg"]');var o=0,u="",a="";type="";for(o;o<e.loadavg.length;o++){o===0?type="1min":o===1?type="5min":type="15min";u+="<li>"+e.loadavg[o].toFixed(2)+"</li>";a+="<li>"+type+"</li>"}t.find('[data-output="main"]').html(u);t.find('[data-output="raw"]').html(a)}};e.displayDetails=function(e){}}})})(App,Modernizr);